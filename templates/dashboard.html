<!DOCTYPE html>
<html lang="en">
<head>
    <meta content='width=device-width, initial-scale=1' name='viewport'/>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    

</head>
<body onload="startupScript()">
<p id="text">

</p>

</br>
</br>
</br>
<a href="./presetconfig">Go to Config page</a>

</body>

<script>
    var deviceCommands;
    var xhr;
    function startupScript(){
        fetchDeviceCommands();
    }

    function fetchDeviceCommands(){
        xhr = new XMLHttpRequest();
        var url = "getDeviceCommands";
        xhr.open("GET",url, true);
        xhr.send();

        xhr.addEventListener("readystatechange",
            function (){
                if(xhr.readyState == 4 && xhr.status == 200){
                    deviceCommands = xhr.responseText;
                    document.getElementById("text").innerHTML = JSON.parse(deviceCommands).SHARP.OFF;
                }else if(xhr.readyState == 4 && (xhr.status == 500 || xhr.status == 404)){
                    alert("Device Commands Fetch Failed");
                }
        }, false);
    }
</script>
</html>
